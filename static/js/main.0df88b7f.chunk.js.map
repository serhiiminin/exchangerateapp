{"version":3,"sources":["components/wrapper.js","components/input-number.js","components/select.js","components/converter-rate.js","constants/currencies.js","api/fetcher.js","api/index.js","config.js","util/index.js","stores/index.js","components/menu.js","components/converter.js","components/header.js","components/main.js","components/rates-list.js","components/rates.js","root/index.js","serviceWorker.js","index.js"],"names":["WrapperCmp","styled","article","props","theme","colors","text","Header","header","background","light","Body","div","Wrapper","children","InputNumber","value","label","onChange","name","TextField","type","margin","variant","SelectCmp","items","Select","displayEmpty","map","currency","MenuItem","key","ConverterRate","sourceCurrency","targetCurrency","targetRate","CURRENCIES_LIST","CURRENCIES_RATES","apiEndpoint","checkStatus","response","status","error","Error","statusText","parseJson","json","process","fetcher","fetch","params","endpoint","body","headers","restParams","request","Request","JSON","stringify","Headers","accept","then","createFetcherJson","window","createApi","config","getLatest","searchParams","getBased","getHistory","fixNumberToPlace","num","place","toFixed","divide","a","b","multiply","configure","enforceActions","roundRates","rates","Object","fromEntries","entries","String","Math","floor","getRate","calculateCurrencyAmount","handler","rate","parseFloat","Number","amount","calculateAmount","multiplyAmount","StoreContext","createContext","observable","loading","sourceValue","targetValue","ratesList","isPriorityInConverter","includes","index","priorityCurrency","resultCurrency","calculateTodayRatesCurrencies","this","changeValue","changeCurrency","changeSourceValue","changeTargetValue","divideAmount","setTargetAmount","startLoading","finishLoading","setRates","cleanRates","setError","getRates","api","updatedRates","catch","finally","action","bound","List","ul","Item","li","Menu","title","path","ConverterInputs","event","target","Converter","observer","useContext","HeaderCmp","Title","h1","MainWrapper","main","Main","RatesList","country","HeaderGrid","Grid","LoadingWrapper","Rates","cleanList","todayRates","useEffect","container","justify","alignItems","item","CircularProgress","defaultProps","GlobalStyle","createGlobalStyle","Root","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0df88b7f.chunk.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst WrapperCmp = styled.article`\n  border: 1px solid ${props => props.theme.colors.text};\n`;\n\nconst Header = styled.header`\n  background: ${props => props.theme.colors.background};\n  color: ${props => props.theme.colors.light};\n  height: 50px;\n  display: flex;\n  align-items: center;\n`;\n\nconst Body = styled.div`\n  padding: 1rem;\n`;\n\nconst Wrapper = ({ header, children }) => (\n  <WrapperCmp>\n    <Header>{header}</Header>\n    <Body>{children}</Body>\n  </WrapperCmp>\n);\n\nWrapper.propTypes = {\n  header: PropTypes.node.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Wrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextField } from '@material-ui/core';\n\nconst InputNumber = ({ value, label, onChange, name }) => (\n  <TextField\n    type=\"number\"\n    name={name}\n    label={label}\n    value={value}\n    onChange={onChange}\n    margin=\"normal\"\n    variant=\"outlined\"\n  />\n);\n\nInputNumber.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n};\n\nexport default InputNumber;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Select, MenuItem } from '@material-ui/core';\n\nconst SelectCmp = ({ value, onChange, items, name }) => (\n  <Select value={value} onChange={onChange} displayEmpty name={name}>\n    {items.map(currency => (\n      <MenuItem key={currency} value={currency}>\n        {currency}\n      </MenuItem>\n    ))}\n  </Select>\n);\n\nSelectCmp.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  items: PropTypes.arrayOf(PropTypes.string).isRequired,\n  value: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n};\n\nexport default SelectCmp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ConverterRate = ({ sourceCurrency, targetCurrency, targetRate }) => (\n  <footer>\n    <h5>Your rate:</h5>\n    <span>{`${sourceCurrency} 1 = ${targetCurrency} ${targetRate}`}</span>\n  </footer>\n);\n\nConverterRate.propTypes = {\n  sourceCurrency: PropTypes.string.isRequired,\n  targetCurrency: PropTypes.string.isRequired,\n  targetRate: PropTypes.string.isRequired,\n};\n\nexport default ConverterRate;\n","const CURRENCIES_LIST = [\n  'AUD',\n  'BGN',\n  'BRL',\n  'CAD',\n  'CHF',\n  'CNY',\n  'CZK',\n  'DKK',\n  'EUR',\n  'GBP',\n  'HKD',\n  'HRK',\n  'HUF',\n  'IDR',\n  'ILS',\n  'INR',\n  'ISK',\n  'JPY',\n  'KRW',\n  'MXN',\n  'MYR',\n  'NOK',\n  'NZD',\n  'PHP',\n  'PLN',\n  'RON',\n  'RUB',\n  'SEK',\n  'SGD',\n  'THB',\n  'TRY',\n  'USD',\n  'ZAR',\n];\n\nconst CURRENCIES_RATES = ['EUR', 'GBP', 'CAD', 'MXN', 'JPY'];\nconst DEFAULT_SOURCE_VALUE = '1000.00';\nconst EMPTY_VALUE = '';\nconst DEFAULT_CURRENCY = 'USD';\nconst PRIORITY_CURRENCY = 'ILS';\n\nexport { CURRENCIES_LIST, CURRENCIES_RATES, DEFAULT_CURRENCY, DEFAULT_SOURCE_VALUE, EMPTY_VALUE, PRIORITY_CURRENCY };\n","const checkStatus = response => {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n  const error = new Error(response.statusText);\n\n  error.response = response;\n  throw error;\n};\n\nconst parseJson = response => response.json();\n\nconst createFetcherJson = fetch => params => {\n  const { endpoint, body, headers, ...restParams } = params;\n\n  const request = new Request(endpoint, {\n    body: JSON.stringify(body),\n    headers: new Headers({\n      accept: 'application/json',\n      'content-type': 'application/json',\n      ...headers,\n    }),\n    ...restParams,\n  });\n\n  return fetch(request)\n    .then(checkStatus)\n    .then(parseJson);\n};\n\nexport default createFetcherJson;\n","import createFetcherJson from './fetcher';\nimport config from '../config';\n\nconst fetcher = createFetcherJson(window.fetch);\nconst { endpoint } = config;\n\nconst createApi = apiEndpoint => ({\n  getLatest: searchParams => fetcher({ endpoint: `${apiEndpoint}/latest?${searchParams}` }),\n  getBased: currency => fetcher({ endpoint: `${apiEndpoint}/latest?base=${currency}` }),\n  getHistory: searchParams => fetcher({ endpoint: `${apiEndpoint}/history?${searchParams}` }),\n});\n\nexport default createApi(endpoint);\n","const { REACT_APP_API_ENDPOINT } = process.env;\n\nexport default {\n  endpoint: REACT_APP_API_ENDPOINT,\n};\n","const roundFloor = num => Math.floor(num * 10000) / 10000 || num;\nconst fixNumberToPlace = (num, place) => num.toFixed(place);\nconst isFloatNumber = num => parseFloat(num) === Number(num);\nconst calculateAmount = handler => (amount, rate) =>\n  String(fixNumberToPlace(handler(Number(amount || 0), Number(rate)), 2));\nconst divide = (a, b) => a / b;\nconst multiply = (a, b) => a * b;\n\nexport { roundFloor, fixNumberToPlace, isFloatNumber, calculateAmount, divide, multiply };\n","import { createContext } from 'react';\nimport { configure, observable, action } from 'mobx';\nimport api from '../api';\nimport {\n  CURRENCIES_RATES,\n  DEFAULT_CURRENCY,\n  DEFAULT_SOURCE_VALUE,\n  EMPTY_VALUE,\n  PRIORITY_CURRENCY,\n} from '../constants/currencies';\nimport { calculateAmount, divide, fixNumberToPlace, isFloatNumber, multiply, roundFloor } from '../util';\n\nconfigure({ enforceActions: 'observed' });\n\nconst roundRates = rates =>\n  Object.fromEntries(\n    Object.entries(rates).map(([key, value]) => [key, String(fixNumberToPlace(roundFloor(value), 4))])\n  );\n\nconst calculateTodayRatesCurrencies = ({ rates, sourceCurrency, targetCurrency }) => {\n  const ratesList = rates || {};\n  const isPriorityInConverter = [sourceCurrency, targetCurrency].includes(PRIORITY_CURRENCY);\n\n  return CURRENCIES_RATES.map((currency, index) => {\n    const priorityCurrency = !isPriorityInConverter && index === 0 ? PRIORITY_CURRENCY : currency;\n    const resultCurrency = priorityCurrency === sourceCurrency ? DEFAULT_CURRENCY : priorityCurrency;\n\n    return [resultCurrency, ratesList[resultCurrency]];\n  });\n};\n\nconst getRate = (rates, currency) => (rates || {})[currency] || EMPTY_VALUE;\n\nconst calculateCurrencyAmount = handler => (value, rate) =>\n  isFloatNumber(value) ? calculateAmount(handler)(value, rate) : EMPTY_VALUE;\n\nconst multiplyAmount = (value, rate) => calculateCurrencyAmount(multiply)(value, rate);\nconst divideAmount = (value, rate) => calculateCurrencyAmount(divide)(value, rate);\n\nexport const StoreContext = createContext(\n  observable(\n    {\n      rates: null,\n      loading: false,\n      error: null,\n      sourceCurrency: DEFAULT_CURRENCY,\n      targetCurrency: PRIORITY_CURRENCY,\n      sourceValue: DEFAULT_SOURCE_VALUE,\n      targetValue: EMPTY_VALUE,\n      get todayRates() {\n        return calculateTodayRatesCurrencies({\n          rates: this.rates || {},\n          sourceCurrency: this.sourceCurrency,\n          targetCurrency: this.targetCurrency,\n        });\n      },\n      get targetRate() {\n        return getRate(this.rates, this.targetCurrency);\n      },\n      changeValue(key, value) {\n        this[key] = value;\n      },\n      changeCurrency(key, value) {\n        this.changeValue(key, value);\n        this.targetValue = multiplyAmount(this.sourceValue, getRate(this.rates, this.targetCurrency));\n      },\n      changeSourceValue(key, value) {\n        this.changeValue(key, value);\n        this.targetValue = multiplyAmount(value, getRate(this.rates, this.targetCurrency));\n      },\n      changeTargetValue(key, value) {\n        this.changeValue(key, value);\n        this.sourceValue = divideAmount(value, getRate(this.rates, this.targetCurrency));\n      },\n      setTargetAmount(amount) {\n        this.targetValue = amount;\n      },\n      startLoading() {\n        this.loading = true;\n      },\n      finishLoading() {\n        this.loading = false;\n      },\n      setRates(rates) {\n        this.rates = rates;\n      },\n      cleanRates() {\n        this.rates = null;\n      },\n      setError(error) {\n        this.error = error;\n      },\n      getRates(currency = this.sourceCurrency) {\n        this.startLoading();\n        api\n          .getBased(currency)\n          .then(({ rates }) => {\n            const updatedRates = roundRates(rates);\n            this.setRates(updatedRates);\n            this.setTargetAmount(multiplyAmount(this.sourceValue, getRate(updatedRates, this.targetCurrency)));\n          })\n          .catch(error => {\n            this.setError(error);\n          })\n          .finally(this.finishLoading);\n      },\n    },\n    {\n      getRates: action.bound,\n      changeValue: action.bound,\n      changeCurrency: action.bound,\n      changeSourceValue: action.bound,\n      changeTargetValue: action.bound,\n      startLoading: action.bound,\n      finishLoading: action.bound,\n      cleanRates: action.bound,\n      setRates: action.bound,\n      setTargetAmount: action.bound,\n      setError: action.bound,\n    }\n  )\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst List = styled.ul`\n  padding: 0;\n  margin: 0;\n  position: relative;\n  height: 100%;\n  display: flex;\n  flex-flow: row wrap;\n  list-style: none;\n`;\n\nconst Item = styled.li`\n  background: ${props => props.theme.colors.light};\n  color: ${props => props.theme.colors.background};\n  font-weight: bold;\n  min-width: 200px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Menu = ({ items }) => (\n  <List>\n    {items.map(({ title, path }) => (\n      <Item key={path}>{title}</Item>\n    ))}\n  </List>\n);\n\nMenu.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      path: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n\nexport default Menu;\n","import React, { useContext } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport styled from 'styled-components';\nimport Wrapper from './wrapper';\nimport Input from './input-number';\nimport Select from './select';\nimport ConverterRate from './converter-rate';\nimport { CURRENCIES_LIST } from '../constants/currencies';\nimport { StoreContext } from '../stores';\nimport Menu from './menu';\n\nconst ConverterInputs = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 1rem;\n  margin-bottom: 2rem;\n`;\n\nconst onChange = handler => event => {\n  handler(event.target.name, event.target.value);\n};\n\nconst Converter = observer(() => {\n  const {\n    sourceValue,\n    targetValue,\n    sourceCurrency,\n    targetCurrency,\n    targetRate,\n    changeCurrency,\n    changeSourceValue,\n    changeTargetValue,\n  } = useContext(StoreContext);\n\n  return (\n    <Wrapper header={<Menu items={[{ title: 'Currency converter', path: '/' }]} />}>\n      <ConverterInputs>\n        <Input name=\"sourceValue\" label=\"From\" value={sourceValue} onChange={onChange(changeSourceValue)} />\n        <Select\n          name=\"sourceCurrency\"\n          items={CURRENCIES_LIST}\n          onChange={onChange(changeCurrency)}\n          value={sourceCurrency}\n        />\n        <Input name=\"targetValue\" label=\"To\" value={targetValue} onChange={onChange(changeTargetValue)} />\n        <Select\n          name=\"targetCurrency\"\n          items={CURRENCIES_LIST}\n          onChange={onChange(changeCurrency)}\n          value={targetCurrency}\n        />\n      </ConverterInputs>\n      <ConverterRate sourceCurrency={sourceCurrency} targetCurrency={targetCurrency} targetRate={targetRate} />\n    </Wrapper>\n  );\n});\n\nexport default Converter;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst HeaderCmp = styled.header`\n  margin-bottom: 40px;\n  background: ${props => props.theme.colors.background};\n  height: 70px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Title = styled.h1`\n  color: ${props => props.theme.colors.light};\n  margin: 0;\n`;\n\nconst Header = () => (\n  <HeaderCmp>\n    <Title>Rate app</Title>\n  </HeaderCmp>\n);\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst MainWrapper = styled.main`\n  width: 1200px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  grid-auto-columns: 1fr;\n  gap: 1rem;\n`;\n\nconst Main = ({ children }) => <MainWrapper>{children}</MainWrapper>;\n\nMain.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst List = styled.ul`\n  padding: 0;\n  list-style: none;\n  display: grid;\n  row-gap: 0.5rem;\n`;\n\nconst Item = styled.li`\n  display: grid;\n  grid-template-columns: auto auto;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst RatesList = ({ rates }) => (\n  <List>\n    {rates.map(([country, rate]) => (\n      <Item key={country}>\n        <span>{country}</span>\n        <span>{rate}</span>\n      </Item>\n    ))}\n  </List>\n);\n\nRatesList.propTypes = {\n  rates: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)).isRequired,\n};\n\nexport default RatesList;\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid, CircularProgress } from '@material-ui/core';\nimport { observer } from 'mobx-react-lite';\nimport styled from 'styled-components';\nimport Wrapper from './wrapper';\nimport { DEFAULT_CURRENCY } from '../constants/currencies';\nimport { StoreContext } from '../stores';\nimport RatesList from './rates-list';\n\nconst HeaderGrid = styled(Grid)`\n  padding: 0 1rem;\n`;\n\nconst LoadingWrapper = styled.div`\n  display: grid;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Rates = observer(() => {\n  const { getRates, cleanList, loading, sourceCurrency, todayRates } = useContext(StoreContext);\n  useEffect(() => {\n    getRates(sourceCurrency);\n\n    return cleanList;\n  }, [getRates, cleanList, sourceCurrency]);\n\n  return (\n    <Wrapper\n      header={\n        <HeaderGrid container justify=\"space-between\" alignItems=\"center\">\n          <Grid item>Today&apos;s rates</Grid>\n          <Grid item>{`1 ${sourceCurrency} =`}</Grid>\n        </HeaderGrid>\n      }\n    >\n      {loading ? (\n        <LoadingWrapper>\n          <CircularProgress />\n        </LoadingWrapper>\n      ) : (\n        <RatesList rates={todayRates} />\n      )}\n    </Wrapper>\n  );\n});\n\nRates.propTypes = {\n  sourceCurrency: PropTypes.string,\n};\n\nRates.defaultProps = {\n  sourceCurrency: DEFAULT_CURRENCY,\n};\n\nexport default Rates;\n","import React from 'react';\nimport { ThemeProvider, createGlobalStyle } from 'styled-components';\nimport { Normalize } from 'styled-normalize';\nimport { Header, Main, Rates, Converter } from '../components';\n\nconst theme = {\n  colors: {\n    background: '#121aa0',\n    text: '#000',\n    light: '#fff',\n  },\n};\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    overflow-x: hidden;\n    color: ${props => props.theme.colors.text};\n    margin: 0;\n  } \n  * {\n    box-sizing: border-box;\n  }\n`;\n\nconst Root = () => (\n  <ThemeProvider theme={theme}>\n    <>\n      <Normalize />\n      <GlobalStyle />\n      <Header />\n      <Main>\n        <Converter />\n        <Rates />\n      </Main>\n    </>\n  </ThemeProvider>\n);\n\nexport default Root;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './root';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}